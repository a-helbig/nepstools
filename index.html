<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Simplifies working with NEPS data • nepstools</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Simplifies working with NEPS data">
<meta name="description" content="Functions that help NEPS data users to work with the scientific use files of the NEPS. Load NEPS data with german or english variable and value labels and all relevant meta data attached. Handle missings and season codes quickly and much more.">
<meta property="og:description" content="Functions that help NEPS data users to work with the scientific use files of the NEPS. Load NEPS data with german or english variable and value labels and all relevant meta data attached. Handle missings and season codes quickly and much more.">
<meta property="og:image" content="https://a-helbig.github.io/nepstools/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">nepstools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/nepstools.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="nepstools-">nepstools 
<a class="anchor" aria-label="anchor" href="#nepstools-"></a>
</h1>
</div>
<!-- badges: start -->
<!-- badges: end -->
<p>This package facilitates working with R and NEPS SUF data. Its main feature — and the core of the package — is a function that efficiently reads NEPS SUF files in statas dta format. It allows you to specify German or English language, a switch to instrument variable names and access to all attached meta information on variables. It builds upon haven’s read_dta() and readstata13’s read.dta13() functions, leveraging the strengths of both. The package is inspired by the stata ado <a href="https://www.neps-data.de/Datenzentrum/Forschungsdaten/Datentools-f%C3%BCr-Stata" class="external-link">nepstools</a> developed by the FDZ of the Lifbi in Bamberg, Germany.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <em>nepstools</em> with remotes package like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes") - uncomment this row in case you havent installed package "remotes" yet</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"a-helbig/nepstools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>We need to load a NEPS dataset that includes variable and value labels in English, and also want to access the question texts associated with the variables.</p>
<p>Using haven::read_dta() did not provide access to the English labels or the question texts. We also tried readstata13::read.dta13(), but although it loads metadata (including English labels), these were only attached at the dataset level, not directly to the variables. Additionally, this function tends to be relatively slow when working with larger datasets.</p>
<p>To achieve our goal, we can use the read_neps() function as demonstrated below:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://a-helbig.github.io/nepstools/">nepstools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># File path to publicly available NEPS SC6 semantic structural file on gaps in lifecourse that is included in this package</span></span>
<span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"SC6_spGap_S_15-0-0.dta"</span>, package <span class="op">=</span> <span class="st">"nepstools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># read data with english labels and meta</span></span>
<span><span class="va">df_neps</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_neps.html">read_neps</a></span><span class="op">(</span><span class="va">path</span>, english <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example Variable: ts2912m - enddate (month) of gap episode</span></span>
<span><span class="co"># Print english variable label </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">df_neps</span><span class="op">$</span><span class="va">ts2912m</span>, <span class="st">"label"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "End month gap"</span></span>
<span><span class="co"># Print english questiontext with convenient wrapper nepstools::question()</span></span>
<span><span class="fu"><a href="reference/question.html">question</a></span><span class="op">(</span><span class="va">df_neps</span>, <span class="st">"ts29103"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Just to make sure: Are you still retired today?"</span></span></code></pre></div>
<p>In addition the package provides a handful of smaller functions that facilitate working with NEPS data:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="reference/replace_values_with_na.html">replace_values_with_na()</a></code>: replacing NEPS missing values with NA</li>
<li>
<code><a href="reference/replace_season_codes.html">replace_season_codes()</a></code>: recoding season codes to corresponding months</li>
<li>
<code><a href="reference/expand.html">expand()</a></code>: expanding episode data by duration</li>
<li>
<code><a href="reference/question.html">question()</a></code>: wrapper of attr function for printing question texts</li>
<li>
<code><a href="reference/lookfor_meta.html">lookfor_meta()</a></code>: searching for keywords in attributes of dataframe columns (meta info)</li>
</ol>
<p>For more details, please checkout the <em>nepstools</em> vignette.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing nepstools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alexander Helbig <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexander Helbig.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
